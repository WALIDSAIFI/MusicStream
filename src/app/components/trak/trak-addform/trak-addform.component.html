<div class="bg-gray-50 min-h-screen py-8">
  <div class="max-w-4xl mx-auto px-4">
    <div class="bg-white rounded-lg shadow-lg p-6">
      <h2 class="text-2xl font-bold mb-6">Ajouter une piste</h2>

      <form [formGroup]="trackForm" (ngSubmit)="onSubmit()">
        <div class="space-y-6">
          <!-- Titre -->
          <div>
            <label for="title" class="block text-sm font-medium text-gray-700">Titre</label>
            <input type="text" id="title" formControlName="title"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
          </div>

          <!-- Artiste -->
          <div>
            <label for="artist" class="block text-sm font-medium text-gray-700">Artiste</label>
            <input type="text" id="artist" formControlName="artist"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
          </div>

          <!-- Description -->
          <div>
            <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
            <textarea id="description" formControlName="description" rows="3"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm"></textarea>
          </div>

          <!-- Catégorie -->
          <div>
            <label for="category" class="block text-sm font-medium text-gray-700">Catégorie</label>
            <select id="category" formControlName="category"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
              <option value="">Sélectionner une catégorie</option>
              <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
            </select>
          </div>

          <!-- Fichier audio -->
          <div>
            <label for="audio" class="block text-sm font-medium text-gray-700">Fichier audio</label>
            <input type="file" id="audio" (change)="onFileSelected($event, 'audio')"
                   class="mt-1 block w-full" accept="audio/*">
          </div>

          <!-- Image -->
          <div>
            <label for="image" class="block text-sm font-medium text-gray-700">Image</label>
            <input type="file" id="image" (change)="onFileSelected($event, 'image')"
                   class="mt-1 block w-full" accept="image/*">
            <img *ngIf="imagePreview" [src]="imagePreview" class="mt-2 h-32 w-32 object-cover rounded-lg">
          </div>

          <!-- Message d'erreur -->
          <div *ngIf="errorMessage" class="text-red-600 text-sm">{{ errorMessage }}</div>

          <!-- Boutons -->
          <div class="flex justify-end space-x-4">
            <button type="button" 
                    (click)="onCancel()"
                    class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500">
              Annuler
            </button>
            <button type="submit" 
                    [disabled]="isLoading"
                    class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <span *ngIf="!isLoading">Ajouter la piste</span>
              <span *ngIf="isLoading">Ajout en cours...</span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
